//
// Created by cp176 on 11/9/2024.
//

#include "font.h"

const int font_8bit[39][8] = {
        {0x00, 0x00, 0x3C, 0x66, 0x6E, 0x76, 0x66, 0x3C},
        {0x00, 0x00, 0x18, 0x38, 0x18, 0x18, 0x18, 0x3C},
        {0x00, 0x00, 0x3C, 0x66, 0x0C, 0x18, 0x30, 0x7E},
        {0x00, 0x00, 0x3C, 0x66, 0x0C, 0x06, 0x66, 0x3C},
        {0x00, 0x00, 0x0C, 0x1C, 0x3C, 0x6C, 0x7E, 0x0C},
        {0x00, 0x00, 0x7E, 0x60, 0x7C, 0x06, 0x66, 0x3C},
        {0x00, 0x00, 0x3C, 0x66, 0x60, 0x7C, 0x66, 0x3C},
        {0x00, 0x00, 0x7E, 0x06, 0x0C, 0x18, 0x30, 0x30},
        {0x00, 0x00, 0x3C, 0x66, 0x3C, 0x66, 0x66, 0x3C},
        {0x00, 0x00, 0x3C, 0x66, 0x66, 0x3E, 0x06, 0x3C},
        // A
        {0x00, 0x00, 0x3C, 0x66, 0x66, 0x7E, 0x66, 0x66},
        // B
        {0x00, 0x00, 0x3E, 0x66, 0x3E, 0x66, 0x66, 0x3E},
        // C
        {0x00, 0x00, 0x3C, 0x66, 0x60, 0x60, 0x66, 0x3C},
        // D
        {0x00, 0x00, 0x3E, 0x66, 0x66, 0x66, 0x66, 0x3E},
        // E
        {0x00, 0x00, 0x7E, 0x60, 0x7C, 0x60, 0x60, 0x7E},
        // F
        {0x00, 0x00, 0x7E, 0x60, 0x7C, 0x60, 0x60, 0x60},
        // G
        {0x00, 0x00, 0x3C, 0x66, 0x60, 0x6E, 0x66, 0x3C},
        // H
        {0x00, 0x00, 0x66, 0x66, 0x7E, 0x66, 0x66, 0x66},
        // I
        {0x00, 0x00, 0x3C, 0x18, 0x18, 0x18, 0x18, 0x3C},
        // J
        {0x00, 0x00, 0x0E, 0x06, 0x06, 0x06, 0x66, 0x3C},
        // K
        {0x00, 0x00, 0x66, 0x6C, 0x78, 0x78, 0x6C, 0x66},
        // L
        {0x00, 0x00, 0x60, 0x60, 0x60, 0x60, 0x60, 0x7E},
        // M
        {0x00, 0x00, 0xC6, 0xEE, 0xFE, 0xD6, 0xC6, 0xC6},
        // N
        {0x00, 0x00, 0x66, 0x76, 0x7E, 0x7E, 0x6E, 0x66},
        // O
        {0x00, 0x00, 0x3C, 0x66, 0x66, 0x66, 0x66, 0x3C},
        // P
        {0x00, 0x00, 0x3E, 0x66, 0x66, 0x3E, 0x60, 0x60},
        // Q
        {0x00, 0x00, 0x3C, 0x66, 0x66, 0x66, 0x6C, 0x36},
        // R
        {0x00, 0x00, 0x3E, 0x66, 0x66, 0x3E, 0x6C, 0x66},
        // S
        {0x00, 0x00, 0x3C, 0x66, 0x38, 0x0C, 0x66, 0x3C},
        // T
        {0x00, 0x00, 0x7E, 0x18, 0x18, 0x18, 0x18, 0x18},
        // U
        {0x00, 0x00, 0x66, 0x66, 0x66, 0x66, 0x66, 0x3C},
        // V
        {0x00, 0x00, 0x66, 0x66, 0x66, 0x66, 0x3C, 0x18},
        // W
        {0x00, 0x00, 0xC6, 0xC6, 0xD6, 0xFE, 0xEE, 0xC6},
        // X
        {0x00, 0x00, 0x66, 0x66, 0x3C, 0x3C, 0x66, 0x66},
        // Y
        {0x00, 0x00, 0x66, 0x66, 0x3C, 0x18, 0x18, 0x18},
        // Z
        {0x00, 0x00, 0x7E, 0x0C, 0x18, 0x30, 0x60, 0x7E},
        // !
        {0x00, 0x00, 0x18, 0x18, 0x18, 0x18, 0x00, 0x18},
        // :
        {0x00, 0x00, 0x00, 0x18, 0x18, 0x00, 0x18, 0x18},
        // space
        { 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00 }
};

enum {
	FONT_NUMBER_0 = 0,
	FONT_NUMBER_1,
	FONT_NUMBER_2,
	FONT_NUMBER_3,
	FONT_NUMBER_4,
	FONT_NUMBER_5,
	FONT_NUMBER_6,
	FONT_NUMBER_7,
	FONT_NUMBER_8,
	FONT_NUMBER_9,
	FONT_LETTER_A,
	FONT_LETTER_B,
	FONT_LETTER_C,
	FONT_LETTER_D,
	FONT_LETTER_E,
	FONT_LETTER_F,
	FONT_LETTER_G,
	FONT_LETTER_H,
	FONT_LETTER_I,
	FONT_LETTER_J,
	FONT_LETTER_K,
	FONT_LETTER_L,
	FONT_LETTER_M,
	FONT_LETTER_N,
	FONT_LETTER_O,
	FONT_LETTER_P,
	FONT_LETTER_Q,
	FONT_LETTER_R,
	FONT_LETTER_S,
	FONT_LETTER_T,
	FONT_LETTER_U,
	FONT_LETTER_V,
	FONT_LETTER_W,
	FONT_LETTER_X,
	FONT_LETTER_Y,
	FONT_LETTER_Z,
	FONT_EXCLAMATION,
	FONT_COLON,
	FONT_SPACE
} FONT_ENUM;

void render_font(unsigned int *pixels, const int x, const int y, const int number, const int SCREEN_WIDTH) {
	const int *font_data = (int *) &font_8bit[number];
	for (int i = 0; i < 8; i++) {
		for (int j = 0; j < 8; j++) {
			int color = (font_data[i] >> (7 - j)) & 1;
			for (int k = 0; k < 9; k++) {
				for (int l = 0; l < 9; l++) {
					pixels[(y * 9 + i) * SCREEN_WIDTH + x * 9 + j] = color ? 0xFFFFFFFF : 0x00000000;
				}
			}
		}
	}
}
